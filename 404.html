<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>404 - Nova Foundry</title>
<link rel="icon" type="image/x-icon" href="https://novafoundry.ca/Images/Nova_foundry_favicon.ico" />
<link rel="stylesheet" href="https://novafoundry.ca/style.css" />
<style>
body { margin:0; font-family: Arial, sans-serif; color: #fff; background: #000; overflow: hidden; }
.container { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; padding: 20px; z-index: 10; position: relative; text-align: center; box-sizing: border-box; }
.logo-small { max-width: 300px; height: auto; margin-bottom: 20px; animation: fadeIn 2s ease-in-out; }
.error-code { font-size: 12em; margin: 0; animation: spaceFloat 5s ease-in-out infinite, spaceGlow 3s ease-in-out infinite; color: #ff5501; text-shadow: 0 0 10px #ff5501; }
.error-message { font-size: 2em; margin: 10px 0; border-right: .15em solid #fff; white-space: nowrap; letter-spacing: .15em; animation: typing 3.5s steps(40, end), blink-caret .75s step-end infinite; }
.error-sub { font-size: 1.2em; margin: 20px 0; opacity: 0; animation: fadeIn 2s ease-in-out forwards; }
.home-link { color: #fff; text-decoration: none; padding: 10px 20px; background: rgba(255,255,255,0.1); border-radius: 5px; transition: background 0.3s; }
.home-link:hover { background: rgba(255,255,255,0.2); }
canvas { position: fixed; top:0; left:0; z-index:0; }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes spaceFloat { 0% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-20px) rotate(5deg); } 100% { transform: translateY(0) rotate(0deg); } }
@keyframes spaceGlow { 0% { text-shadow: 0 0 10px #add8e6, 0 0 20px #ffd700; } 50% { text-shadow: 0 0 20px #add8e6, 0 0 30px #ffd700, 0 0 40px #ffcccb; } 100% { text-shadow: 0 0 10px #add8e6, 0 0 20px #ffd700; } }
@keyframes blink-caret { from, to { border-color: transparent; } 50% { border-color: #fff; } }

@media (max-width: 768px) {
    .error-code { font-size: 6em; }
    .error-message { font-size: 1.5em; }
    .logo-small { max-width: 200px;}
    html, body { overflow-x: hidden; }
}
</style>
</head>
<body>
<canvas id="starCanvas"></canvas>

<div class="container">
    <h1 class="error-code"></h1>
    <p class="error-message"></p>
    <img class="logo-small" src="https://novafoundry.ca/Images/Nova_foundry_wide_transparent_SVG.svg" alt="Nova Foundry Image" />
    <h1 class="error-code">404</h1>
    <p class="error-message">Page Not Found - Lost in Space</p>
    <p class="error-sub">The page you're looking for has drifted into the void. Head back to the foundry!</p>
    <a href="/" class="home-link">Return Home</a>
</div>

<script src="https://novafoundry.ca/starfield.js"></script>
<script>
    // Handle dynamic URL redirection
    const currentPath = window.location.pathname;
    const requestedPage = currentPath.replace(/\/$/, '') || '/';
    
    // If we're on the 404 page, show the current attempted URL
    document.addEventListener('DOMContentLoaded', () => {
        const homeLink = document.querySelector('.home-link');
        // Extract page name from path for display
        const pageName = requestedPage.split('/').pop() || 'home';
        const message = document.querySelector('.error-message');
        if (message) {
            message.textContent = `404: ${pageName} Lost in Space`;
        }
    });
</script>
</body>
</html>